<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹›è˜åŠ©æ‰‹ - èµåŒç§‘æŠ€æ•°å­—å‘˜å·¥</title>
    <script src="/console/style/tailwindcss.3.0.23.js"></script>
    <style>
        body {
            /* background: linear-gradient(135deg, #f0f2f5 0%, #e8ecf0 50%, #f5f7fa 100%); */
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .liquid-glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .liquid-glass-strong {
            /* background: rgba(255, 255, 255, 0.9); */
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
        }
        
        .specular-highlight {
            position: relative;
            overflow: hidden;
        }
        
        .specular-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.6s ease;
            pointer-events: none;
        }
        
        .specular-highlight:hover::before {
            left: 100%;
        }
        
        .upload-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 2px dashed rgba(59, 130, 246, 0.3);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            text-align: center;
        }
        
        .upload-card:hover {
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.1);
        }
        
        .upload-card.dragover {
            border-color: rgba(34, 197, 94, 0.5);
            background: rgba(34, 197, 94, 0.05);
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
        }
        
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        .resume-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .resume-item:hover {
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .resume-item.selected {
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(59, 130, 246, 0.05);
        }
        
        .message-bubble {
            max-width: 85%;
            word-wrap: break-word;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-message {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            border-radius: 18px 18px 4px 18px;
        }
        
        .assistant-message {
            background: rgba(255, 255, 255, 0.95);
            color: #374151;
            margin-right: auto;
            border-radius: 18px 18px 18px 4px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 18px 18px 18px 4px;
            margin-right: auto;
            max-width: 85%;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9ca3af;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.4;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }
        
        .floating-button {
            transform: translateY(0);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .floating-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .chat-input {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            padding: 12px 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .chat-input:focus {
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        /* Toast æç¤ºæ ·å¼ */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 16px 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1001;
            min-width: 300px;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.success {
            border-left: 4px solid #10b981;
        }
        
        .toast.error {
            border-left: 4px solid #ef4444;
        }
        
        .toast.info {
            border-left: 4px solid #3b82f6;
        }
        
        .message-actions {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.8);
            color: #6b7280;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .action-btn:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(59, 130, 246, 0.3);
            color: #374151;
        }
        
        .action-btn.active {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
            color: #1d4ed8;
        }
        
        .action-btn.like.active {
            background: rgba(34, 197, 94, 0.1);
            border-color: rgba(34, 197, 94, 0.3);
            color: #059669;
        }
        
        .action-btn.dislike.active {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #dc2626;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .match-score {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .match-score.high {
            background: rgba(34, 197, 94, 0.1);
            color: #059669;
        }
        
        .match-score.medium {
            background: rgba(245, 158, 11, 0.1);
            color: #d97706;
        }
        
        .match-score.low {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
        }
    </style>
</head>
<body class="h-screen flex flex-col">
    <!-- èŠå¤©ç•Œé¢ -->
    <div class="flex-1 flex flex-col w-full overflow-hidden">
        <!-- èŠå¤©å¤´éƒ¨ -->
        <div class="liquid-glass-strong rounded-t-lg p-4 flex items-center justify-between">
            <div class="flex items-center">
                <img src="https://aihelper-zx.awebide.com/assets/avatar4-D_BQUnaE.png" 
                     alt="æ‹›è˜åŠ©æ‰‹" class="w-12 h-12 rounded-full mr-4 object-cover">
                <div>
                    <h3 class="text-lg font-semibold text-gray-800">æ‚¨å¥½ï¼Œæˆ‘æ˜¯AIæ‹›è˜åŠ©æ‰‹</h3>
                    <p class="text-sm text-gray-500">å·¥å·A0004 Â· æ™ºèƒ½ç®€å†è§£æã€å¿«é€Ÿç­›é€‰å€™é€‰äºº</p>
                </div>
            </div>
            <button onclick="resetSession()" class="liquid-glass floating-button rounded-lg px-4 py-2 text-sm font-medium text-gray-700 specular-highlight">
                æ–°å»ºä¼šè¯
            </button>
        </div>
        
        <!-- æ¶ˆæ¯åŒºåŸŸ -->
        <div id="messages-container" class="flex-1 liquid-glass-strong p-6 overflow-y-auto">
            <!-- åŠ©æ‰‹ä»‹ç»æ¶ˆæ¯ -->
            <div class="message-bubble assistant-message p-4 mb-6">
                <div class="prose prose-sm max-w-none text-gray-700 mb-4">
                    <p class="mb-3">æˆ‘èƒ½å¤Ÿæ™ºèƒ½è§£æç®€å†ã€å¿«é€Ÿç­›é€‰å€™é€‰äººã€ç”Ÿæˆé¢è¯•é—®é¢˜ï¼Œå¹¶æä¾›é¢è¯•è¯„ä¼°å»ºè®®ï¼Œè®©æ‹›è˜å·¥ä½œæ›´åŠ é«˜æ•ˆç²¾å‡†ã€‚</p>
                    <p class="mb-3">æˆ‘æ”¯æŒ<span class="font-semibold text-blue-600">ç®€å†è‡ªåŠ¨è§£æ</span>ã€<span class="font-semibold text-blue-600">æ™ºèƒ½æ ‡ç­¾åŒ¹é…</span>å’Œ<span class="font-semibold text-blue-600">å€™é€‰äººè¯„ä¼°</span>ã€‚</p>
                    <p class="text-sm text-gray-600">ğŸ’¡ <strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong>ç®€å†è§£æä¸æ ‡ç­¾åŒ–ã€æŒ‰å…³é”®è¯ç­›é€‰ã€é¢è¯•é—®é¢˜ç”Ÿæˆã€å€™é€‰äººèµ„è´¨è¯„ä¼°</p>
                </div>
                <p class="text-gray-700 font-medium">è¯·é€‰æ‹©æ‚¨è¦è¿›è¡Œçš„æ“ä½œï¼š</p>
            </div>
            
            <!-- åŠŸèƒ½é€‰æ‹©å¡ç‰‡ -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <!-- ä¸Šä¼ ç®€å†å¡ç‰‡ -->
                <div class="upload-card specular-highlight" onclick="showUploadInterface()">
                    <div class="text-4xl mb-4">ğŸ“„</div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">ä¸Šä¼ ç®€å†åˆ°çŸ¥è¯†åº“</h3>
                    <p class="text-gray-600 text-sm mb-4">æ”¯æŒPDFã€Wordã€å›¾ç‰‡æ ¼å¼<br>è‡ªåŠ¨è§£æå€™é€‰äººä¿¡æ¯</p>
                    <div class="inline-flex items-center text-blue-600 text-sm font-medium">
                        <span>ç‚¹å‡»ä¸Šä¼ </span>
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                    </div>
                </div>
                
                <!-- èŒä½åŒ¹é…å¡ç‰‡ -->
                <div class="feature-card specular-highlight" onclick="showPositionMatching()">
                    <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mb-4">
                        <span class="text-white text-lg">ğŸ¯</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">èŒä½åŒ¹é…åˆ†æ</h3>
                    <p class="text-gray-600 text-sm">æ ¹æ®èŒä½è¦æ±‚<br>æ™ºèƒ½æ¨èåˆé€‚å€™é€‰äºº</p>
                </div>
                
                <!-- ç®€å†åˆ†æå¡ç‰‡ -->
                <div class="feature-card specular-highlight" onclick="showResumeAnalysis()">
                    <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mb-4">
                        <span class="text-white text-lg">ğŸ“Š</span>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">ç®€å†æ·±åº¦åˆ†æ</h3>
                    <p class="text-gray-600 text-sm">è¯¦ç»†åˆ†æå€™é€‰äºº<br>æŠ€èƒ½ã€ç»éªŒå’ŒåŒ¹é…åº¦</p>
                </div>
            </div>
        </div>
        
        <!-- è¾“å…¥åŒºåŸŸ -->
        <div class="liquid-glass-strong rounded-b-lg p-4">
            <div class="flex items-end space-x-3">
                <div class="flex-1">
                    <input type="text" 
                           id="message-input"
                           placeholder="æˆ–è€…ç›´æ¥å‘Šè¯‰æˆ‘æ‚¨çš„æ‹›è˜éœ€æ±‚..."
                           class="w-full chat-input"
                           onkeypress="if(event.key==='Enter') sendMessage()">
                </div>
                <button onclick="sendMessage()" 
                        class="liquid-glass floating-button rounded-lg p-3 specular-highlight bg-blue-500 text-white">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                </button>
                <button onclick="showResumeLibrary()" 
                        class="liquid-glass floating-button rounded-lg p-3 specular-highlight text-gray-600">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        let isTyping = false;
        let resumeLibrary = [
            {
                id: 'resume_001',
                name: 'å¼ ä¸‰',
                fileName: 'å¼ ä¸‰_é«˜çº§Javaå¼€å‘å·¥ç¨‹å¸ˆ.pdf',
                uploadTime: '2024-12-10',
                position: 'Javaå¼€å‘å·¥ç¨‹å¸ˆ',
                experience: '5å¹´',
                education: 'æœ¬ç§‘',
                skills: ['Java', 'Spring', 'MySQL', 'Redis', 'Docker'],
                tags: ['åç«¯å¼€å‘', 'åˆ†å¸ƒå¼ç³»ç»Ÿ', 'é«˜å¹¶å‘', 'å¾®æœåŠ¡'],
                score: 92,
                summary: '5å¹´Javaå¼€å‘ç»éªŒï¼Œç²¾é€šSpringç”Ÿæ€ï¼Œæœ‰å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ç»éªŒ'
            },
            {
                id: 'resume_002',
                name: 'æå››',
                fileName: 'æå››_å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ.pdf',
                uploadTime: '2024-12-09',
                position: 'å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ',
                experience: '3å¹´',
                education: 'æœ¬ç§‘',
                skills: ['Vue', 'React', 'TypeScript', 'Node.js', 'Webpack'],
                tags: ['å‰ç«¯å¼€å‘', 'UI/UX', 'ç§»åŠ¨ç«¯', 'å°ç¨‹åº'],
                score: 85,
                summary: '3å¹´å‰ç«¯å¼€å‘ç»éªŒï¼Œç†Ÿç»ƒæŒæ¡Vue/Reactï¼Œæœ‰ç§»åŠ¨ç«¯å¼€å‘ç»éªŒ'
            },
            {
                id: 'resume_003',
                name: 'ç‹äº”',
                fileName: 'ç‹äº”_äº§å“ç»ç†.pdf',
                uploadTime: '2024-12-08',
                position: 'äº§å“ç»ç†',
                experience: '4å¹´',
                education: 'ç¡•å£«',
                skills: ['äº§å“è®¾è®¡', 'ç”¨æˆ·ç ”ç©¶', 'æ•°æ®åˆ†æ', 'Axure', 'Figma'],
                tags: ['äº§å“ç®¡ç†', 'ç”¨æˆ·ä½“éªŒ', 'æ•°æ®é©±åŠ¨', 'Bç«¯äº§å“'],
                score: 88,
                summary: '4å¹´äº§å“ç»éªŒï¼Œä¸»å¯¼è¿‡å¤šä¸ªBç«¯äº§å“ä»0åˆ°1ï¼Œæ“…é•¿ç”¨æˆ·ä½“éªŒè®¾è®¡'
            }
        ];

        // Toastæç¤ºå‡½æ•°
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div class="flex items-center">
                    <div class="mr-3">
                        ${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}
                    </div>
                    <div>
                        <div class="font-medium text-gray-800">${message}</div>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-gray-500 hover:text-gray-700">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 100);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // æ·»åŠ æ¶ˆæ¯
        function addMessage(sender, content, showActions = true) {
            const container = document.getElementById('messages-container');
            const messageDiv = document.createElement('div');
            const messageId = 'msg_' + Date.now();
            messageDiv.className = `message-bubble ${sender}-message p-4 mb-4`;
            messageDiv.id = messageId;
            
            if (sender === 'assistant') {
                let messageHTML = `<div class="prose prose-sm max-w-none">${content}</div>`;
                
                // åªåœ¨éœ€è¦æ—¶æ·»åŠ äº¤äº’æŒ‰é’®ï¼ˆå»æ‰ç¼–è¾‘å’Œè¾…åŠ©ï¼‰
                if (showActions) {
                    messageHTML += `
                        <div class="message-actions">
                            <button class="action-btn like" onclick="likeMessage('${messageId}')">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L9 9m5 1v10M4 12v8a2 2 0 002 2h2m-6-10V9a2 2 0 012-2h2m2 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                                </svg>
                                <span>èµ</span>
                            </button>
                            <button class="action-btn dislike" onclick="dislikeMessage('${messageId}')">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L15 15M10 14l-2-2m6-6v8a2 2 0 01-2 2h-2m6-10V4a2 2 0 00-2-2h-2m-6 5a2 2 0 00-2-2H4a2 2 0 00-2 2m10 9l-2-2-4 4"></path>
                                </svg>
                                <span>è¸©</span>
                            </button>
                        </div>`;
                }
                
                messageDiv.innerHTML = messageHTML;
            } else {
                messageDiv.textContent = content;
            }
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        // æ˜¾ç¤ºä¸Šä¼ ç•Œé¢
        function showUploadInterface() {
            const uploadHTML = `
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                <strong>ç®€å†ä¸Šä¼ åŠŸèƒ½</strong><br>
                                æ”¯æŒPDFã€Wordã€å›¾ç‰‡æ ¼å¼ï¼Œè‡ªåŠ¨è§£æå€™é€‰äººå§“åã€èŒä½ã€æŠ€èƒ½ã€ç»éªŒç­‰ä¿¡æ¯ï¼Œå‡†ç¡®ç‡è¾¾95%ä»¥ä¸Šã€‚
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="upload-card mb-4" id="upload-area">
                    <div class="text-4xl mb-4">ğŸ“¤</div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ ç®€å†</h3>
                    <p class="text-gray-600 text-sm mb-4">æ”¯æŒ PDFã€DOCã€DOCXã€JPGã€PNG æ ¼å¼<br>å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡10MB</p>
                    <button onclick="triggerFileUpload()" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        é€‰æ‹©æ–‡ä»¶
                    </button>
                    <input type="file" id="file-input" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload(event)">
                </div>
                
                <div class="text-sm text-gray-500">
                    ğŸ’¡ ä¸Šä¼ åçš„ç®€å†å°†è‡ªåŠ¨è§£æå¹¶æ·»åŠ åˆ°çŸ¥è¯†åº“ï¼Œæ‚¨å¯ä»¥éšæ—¶è¿›è¡Œæ£€ç´¢å’Œåˆ†æã€‚
                </div>`;
            
            addMessage('assistant', uploadHTML, false);
            
            // è®¾ç½®æ‹–æ‹½äº‹ä»¶
            setupDragAndDrop();
        }

        // è®¾ç½®æ‹–æ‹½ä¸Šä¼ 
        function setupDragAndDrop() {
            const uploadArea = document.getElementById('upload-area');
            if (!uploadArea) return;
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileUpload({ target: { files } });
                }
            });
        }

        // è§¦å‘æ–‡ä»¶é€‰æ‹©
        function triggerFileUpload() {
            document.getElementById('file-input').click();
        }

        // å¤„ç†æ–‡ä»¶ä¸Šä¼ 
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // éªŒè¯æ–‡ä»¶ç±»å‹
            const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/png'];
            if (!allowedTypes.includes(file.type)) {
                showToast('ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼Œè¯·ä¸Šä¼ PDFã€Wordæˆ–å›¾ç‰‡æ–‡ä»¶', 'error');
                return;
            }
            
            // éªŒè¯æ–‡ä»¶å¤§å°
            if (file.size > 10 * 1024 * 1024) {
                showToast('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MB', 'error');
                return;
            }
            
            // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
            showUploadProgress(file.name);
            
            // æ¨¡æ‹Ÿä¸Šä¼ å’Œè§£æè¿‡ç¨‹
            setTimeout(() => {
                simulateResumeAnalysis(file.name);
            }, 2000);
        }

        // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
        function showUploadProgress(fileName) {
            const progressHTML = `
                <div class="bg-white rounded-lg p-4 border border-gray-200">
                    <div class="flex items-center mb-3">
                        <svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                        <span class="text-sm font-medium text-gray-700">æ­£åœ¨ä¸Šä¼ : ${fileName}</span>
                    </div>
                    <div class="progress-bar mb-2">
                        <div class="progress-fill" style="width: 0%" id="upload-progress"></div>
                    </div>
                    <div class="text-xs text-gray-500">æ­£åœ¨è§£æç®€å†å†…å®¹...</div>
                </div>`;
            
            addMessage('assistant', progressHTML, false);
            
            // æ¨¡æ‹Ÿè¿›åº¦æ¡
            let progress = 0;
            const progressBar = document.getElementById('upload-progress');
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                if (progressBar) {
                    progressBar.style.width = progress + '%';
                }
            }, 200);
        }

        // æ¨¡æ‹Ÿç®€å†è§£æ
        function simulateResumeAnalysis(fileName) {
            const mockResume = {
                name: 'é™ˆå°æ˜',
                fileName: fileName,
                position: 'æ•°æ®åˆ†æå¸ˆ',
                experience: '3å¹´',
                education: 'ç¡•å£«',
                skills: ['Python', 'SQL', 'Tableau', 'Excel', 'R'],
                tags: ['æ•°æ®åˆ†æ', 'æœºå™¨å­¦ä¹ ', 'BIæŠ¥è¡¨', 'ç»Ÿè®¡å»ºæ¨¡'],
                score: 89,
                summary: '3å¹´æ•°æ®åˆ†æç»éªŒï¼Œç²¾é€šPythonå’ŒSQLï¼Œæœ‰æœºå™¨å­¦ä¹ é¡¹ç›®ç»éªŒ'
            };
            
            const analysisHTML = `
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-green-700">
                                <strong>ç®€å†è§£æå®Œæˆï¼</strong> æˆåŠŸæå–å€™é€‰äººä¿¡æ¯å¹¶æ·»åŠ åˆ°çŸ¥è¯†åº“ã€‚
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-4 border border-gray-200 mb-4">
                    <h4 class="font-semibold text-gray-800 mb-3">ğŸ“‹ è§£æç»“æœ</h4>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div><span class="text-gray-600">å§“åï¼š</span><span class="font-medium">${mockResume.name}</span></div>
                        <div><span class="text-gray-600">ç›®æ ‡èŒä½ï¼š</span><span class="font-medium">${mockResume.position}</span></div>
                        <div><span class="text-gray-600">å·¥ä½œç»éªŒï¼š</span><span class="font-medium">${mockResume.experience}</span></div>
                        <div><span class="text-gray-600">å­¦å†ï¼š</span><span class="font-medium">${mockResume.education}</span></div>
                    </div>
                    <div class="mt-3">
                        <span class="text-gray-600 text-sm">æ ¸å¿ƒæŠ€èƒ½ï¼š</span>
                        <div class="flex flex-wrap gap-1 mt-1">
                            ${mockResume.skills.map(skill => 
                                `<span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">${skill}</span>`
                            ).join('')}
                        </div>
                    </div>
                    <div class="mt-3">
                        <span class="text-gray-600 text-sm">æ™ºèƒ½æ ‡ç­¾ï¼š</span>
                        <div class="flex flex-wrap gap-1 mt-1">
                            ${mockResume.tags.map(tag => 
                                `<span class="inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded">${tag}</span>`
                            ).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="text-sm text-gray-600">
                    âœ… è§£æå‡†ç¡®ç‡: 95%<br>
                    ğŸ“Š ç»¼åˆè¯„åˆ†: ${mockResume.score}åˆ†<br>
                    ğŸ’¡ å»ºè®®: ${mockResume.summary}
                </div>`;
            
            addMessage('assistant', analysisHTML, true);
            
            // æ·»åŠ åˆ°ç®€å†åº“
            resumeLibrary.push({
                ...mockResume,
                id: 'resume_' + Date.now(),
                uploadTime: new Date().toLocaleDateString()
            });
            
            showToast('ç®€å†è§£æå®Œæˆï¼Œå·²æ·»åŠ åˆ°çŸ¥è¯†åº“ï¼', 'success');
        }

        // æ˜¾ç¤ºèŒä½åŒ¹é…
        function showPositionMatching() {
            const matchingHTML = `
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <p class="text-sm text-blue-700">
                        <strong>èŒä½åŒ¹é…åˆ†æ</strong><br>
                        è¯·è¾“å…¥èŒä½è¦æ±‚ï¼Œæˆ‘å°†ä»çŸ¥è¯†åº“ä¸­ä¸ºæ‚¨æ¨èæœ€åˆé€‚çš„å€™é€‰äººã€‚
                    </p>
                </div>
                
                <div class="bg-white rounded-lg p-4 border border-gray-200">
                    <h4 class="font-semibold text-gray-800 mb-3">ğŸ¯ å¸¸ç”¨èŒä½æ¨¡æ¿</h4>
                    <div class="grid grid-cols-1 gap-2">
                        <button onclick="matchPosition('Javaé«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼š5å¹´ä»¥ä¸Šç»éªŒï¼Œç†Ÿç»ƒSpringæ¡†æ¶ï¼Œæœ‰åˆ†å¸ƒå¼ç³»ç»Ÿç»éªŒ')" 
                                class="text-left p-3 border rounded-lg hover:bg-gray-50 text-sm">
                            <strong>Javaé«˜çº§å¼€å‘å·¥ç¨‹å¸ˆ</strong><br>
                            <span class="text-gray-600">5å¹´ä»¥ä¸Šç»éªŒï¼Œç†Ÿç»ƒSpringæ¡†æ¶ï¼Œæœ‰åˆ†å¸ƒå¼ç³»ç»Ÿç»éªŒ</span>
                        </button>
                        <button onclick="matchPosition('äº§å“ç»ç†ï¼š3å¹´ä»¥ä¸Šç»éªŒï¼Œæœ‰Bç«¯äº§å“ç»éªŒï¼Œç†Ÿæ‚‰ç”¨æˆ·ä½“éªŒè®¾è®¡')" 
                                class="text-left p-3 border rounded-lg hover:bg-gray-50 text-sm">
                            <strong>äº§å“ç»ç†</strong><br>
                            <span class="text-gray-600">3å¹´ä»¥ä¸Šç»éªŒï¼Œæœ‰Bç«¯äº§å“ç»éªŒï¼Œç†Ÿæ‚‰ç”¨æˆ·ä½“éªŒè®¾è®¡</span>
                        </button>
                        <button onclick="matchPosition('æ•°æ®åˆ†æå¸ˆï¼šç†Ÿç»ƒPython/SQLï¼Œæœ‰æœºå™¨å­¦ä¹ ç»éªŒï¼Œç»Ÿè®¡å­¦èƒŒæ™¯ä¼˜å…ˆ')" 
                                class="text-left p-3 border rounded-lg hover:bg-gray-50 text-sm">
                            <strong>æ•°æ®åˆ†æå¸ˆ</strong><br>
                            <span class="text-gray-600">ç†Ÿç»ƒPython/SQLï¼Œæœ‰æœºå™¨å­¦ä¹ ç»éªŒï¼Œç»Ÿè®¡å­¦èƒŒæ™¯ä¼˜å…ˆ</span>
                        </button>
                    </div>
                </div>`;
            
            addMessage('assistant', matchingHTML, false);
        }

        // èŒä½åŒ¹é…åˆ†æ
        function matchPosition(requirement) {
            addMessage('user', `è¯·å¸®æˆ‘åŒ¹é…èŒä½ï¼š${requirement}`);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                // æ ¹æ®è¦æ±‚åŒ¹é…ç®€å†
                const matches = resumeLibrary.filter(resume => {
                    if (requirement.includes('Java') || requirement.includes('å¼€å‘')) {
                        return resume.skills.some(skill => ['Java', 'Spring'].includes(skill));
                    } else if (requirement.includes('äº§å“')) {
                        return resume.position.includes('äº§å“');
                    } else if (requirement.includes('æ•°æ®') || requirement.includes('åˆ†æ')) {
                        return resume.skills.some(skill => ['Python', 'SQL'].includes(skill));
                    }
                    return false;
                }).sort((a, b) => b.score - a.score);
                
                let resultHTML = `
                    <div class="mb-4">
                        <h4 class="font-semibold text-gray-800 mb-2">ğŸ¯ åŒ¹é…ç»“æœ</h4>
                        <p class="text-sm text-gray-600">ä»çŸ¥è¯†åº“ä¸­æ‰¾åˆ° ${matches.length} ä½åŒ¹é…çš„å€™é€‰äººï¼š</p>
                    </div>`;
                
                if (matches.length > 0) {
                    matches.forEach((resume, index) => {
                        const matchClass = resume.score >= 90 ? 'high' : resume.score >= 70 ? 'medium' : 'low';
                        resultHTML += `
                            <div class="resume-item mb-3" onclick="analyzeResume('${resume.id}')">
                                <div class="flex justify-between items-start mb-2">
                                    <div>
                                        <h5 class="font-medium text-gray-800">${resume.name}</h5>
                                        <p class="text-sm text-gray-600">${resume.position} Â· ${resume.experience}</p>
                                    </div>
                                    <span class="match-score ${matchClass}">${resume.score}åˆ†</span>
                                </div>
                                <p class="text-xs text-gray-500 mb-2">${resume.summary}</p>
                                <div class="flex flex-wrap gap-1">
                                    ${resume.skills.slice(0, 4).map(skill => 
                                        `<span class="inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">${skill}</span>`
                                    ).join('')}
                                    ${resume.skills.length > 4 ? `<span class="text-xs text-gray-500">+${resume.skills.length - 4}æ›´å¤š</span>` : ''}
                                </div>
                            </div>`;
                    });
                    
                    resultHTML += `
                        <div class="text-sm text-gray-500 mt-4">
                            ğŸ’¡ ç‚¹å‡»ä»»æ„å€™é€‰äººæŸ¥çœ‹è¯¦ç»†åˆ†ææŠ¥å‘Š
                        </div>`;
                } else {
                    resultHTML += `
                        <div class="text-center py-8 text-gray-500">
                            <div class="text-4xl mb-2">ğŸ”</div>
                            <p>æš‚æœªæ‰¾åˆ°åŒ¹é…çš„å€™é€‰äºº</p>
                            <p class="text-sm">å»ºè®®è°ƒæ•´èŒä½è¦æ±‚æˆ–ä¸Šä¼ æ›´å¤šç®€å†</p>
                        </div>`;
                }
                
                addMessage('assistant', resultHTML, true);
            }, 1500);
        }

        // æ˜¾ç¤ºç®€å†åˆ†æ
        function showResumeAnalysis() {
            if (resumeLibrary.length === 0) {
                addMessage('assistant', `
                    <div class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">ğŸ“„</div>
                        <p class="mb-2">çŸ¥è¯†åº“ä¸­æš‚æ— ç®€å†</p>
                        <p class="text-sm">è¯·å…ˆä¸Šä¼ ç®€å†å†è¿›è¡Œåˆ†æ</p>
                    </div>`, false);
                return;
            }
            
            let libraryHTML = `
                <div class="mb-4">
                    <h4 class="font-semibold text-gray-800 mb-2">ğŸ“š ç®€å†çŸ¥è¯†åº“</h4>
                    <p class="text-sm text-gray-600">é€‰æ‹©è¦åˆ†æçš„ç®€å†ï¼š</p>
                </div>`;
            
            resumeLibrary.forEach(resume => {
                const matchClass = resume.score >= 90 ? 'high' : resume.score >= 70 ? 'medium' : 'low';
                libraryHTML += `
                    <div class="resume-item mb-3" onclick="analyzeResume('${resume.id}')">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h5 class="font-medium text-gray-800">${resume.name}</h5>
                                <p class="text-sm text-gray-600">${resume.position} Â· ${resume.experience} Â· ${resume.education}</p>
                                <p class="text-xs text-gray-500">ä¸Šä¼ æ—¶é—´: ${resume.uploadTime}</p>
                            </div>
                            <span class="match-score ${matchClass}">${resume.score}åˆ†</span>
                        </div>
                        <div class="flex flex-wrap gap-1">
                            ${resume.skills.slice(0, 5).map(skill => 
                                `<span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">${skill}</span>`
                            ).join('')}
                        </div>
                    </div>`;
            });
            
            addMessage('assistant', libraryHTML, false);
        }

        // åˆ†æå…·ä½“ç®€å†
        function analyzeResume(resumeId) {
            const resume = resumeLibrary.find(r => r.id === resumeId);
            if (!resume) return;
            
            addMessage('user', `è¯·åˆ†æ ${resume.name} çš„ç®€å†`);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                const analysisHTML = `
                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4">
                        <h4 class="font-semibold text-gray-800 mb-2">ğŸ“Š ${resume.name} - ç®€å†æ·±åº¦åˆ†æ</h4>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="bg-white rounded-lg p-4 border">
                            <h5 class="font-medium text-gray-800 mb-3">åŸºæœ¬ä¿¡æ¯</h5>
                            <div class="space-y-2 text-sm">
                                <div><span class="text-gray-600">å§“åï¼š</span>${resume.name}</div>
                                <div><span class="text-gray-600">ç›®æ ‡èŒä½ï¼š</span>${resume.position}</div>
                                <div><span class="text-gray-600">å·¥ä½œç»éªŒï¼š</span>${resume.experience}</div>
                                <div><span class="text-gray-600">å­¦å†èƒŒæ™¯ï¼š</span>${resume.education}</div>
                                <div><span class="text-gray-600">æ–‡ä»¶åï¼š</span>${resume.fileName}</div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 border">
                            <h5 class="font-medium text-gray-800 mb-3">ç»¼åˆè¯„ä¼°</h5>
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span>ç»¼åˆè¯„åˆ†</span>
                                    <span class="font-medium">${resume.score}/100</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${resume.score}%"></div>
                                </div>
                            </div>
                            <div class="text-sm text-gray-600">
                                ${resume.summary}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 border mb-4">
                        <h5 class="font-medium text-gray-800 mb-3">æŠ€èƒ½çŸ©é˜µ</h5>
                        <div class="grid grid-cols-2 gap-2">
                            ${resume.skills.map(skill => `
                                <div class="flex justify-between items-center py-1">
                                    <span class="text-sm">${skill}</span>
                                    <div class="flex">
                                        ${Array(5).fill().map((_, i) => 
                                            `<div class="w-2 h-2 rounded-full ${i < Math.floor(Math.random() * 3) + 3 ? 'bg-blue-500' : 'bg-gray-200'} ml-1"></div>`
                                        ).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 border mb-4">
                        <h5 class="font-medium text-gray-800 mb-3">æ™ºèƒ½æ ‡ç­¾åˆ†æ</h5>
                        <div class="flex flex-wrap gap-2">
                            ${resume.tags.map(tag => 
                                `<span class="inline-block bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full">${tag}</span>`
                            ).join('')}
                        </div>
                    </div>
                    
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                        <h5 class="font-medium text-gray-800 mb-2">ğŸ’¡ é¢è¯•å»ºè®®</h5>
                        <div class="text-sm text-gray-700 space-y-1">
                            <p>â€¢ é‡ç‚¹è¯¢é—®${resume.skills[0]}ç›¸å…³é¡¹ç›®ç»éªŒå’ŒæŠ€æœ¯æ·±åº¦</p>
                            <p>â€¢ è€ƒå¯Ÿåœ¨${resume.tags[0]}æ–¹é¢çš„å®é™…åº”ç”¨èƒ½åŠ›</p>
                            <p>â€¢ äº†è§£èŒä¸šè§„åˆ’å’Œå­¦ä¹ èƒ½åŠ›</p>
                            <p>â€¢ è¯„ä¼°å›¢é˜Ÿåä½œå’Œæ²Ÿé€šè¡¨è¾¾èƒ½åŠ›</p>
                        </div>
                    </div>`;
                
                addMessage('assistant', analysisHTML, true);
            }, 2000);
        }

        // æ˜¾ç¤ºç®€å†åº“
        function showResumeLibrary() {
            addMessage('user', 'æŸ¥çœ‹ç®€å†çŸ¥è¯†åº“');
            showResumeAnalysis();
        }

        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (!message || isTyping) return;
            
            addMessage('user', message);
            input.value = '';
            
            // å¤„ç†ç”¨æˆ·æ¶ˆæ¯
            handleUserMessage(message);
        }

        // å¤„ç†ç”¨æˆ·æ¶ˆæ¯
        function handleUserMessage(message) {
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = '';
                
                if (message.includes('ä¸Šä¼ ') || message.includes('ç®€å†')) {
                    showUploadInterface();
                    return;
                } else if (message.includes('åŒ¹é…') || message.includes('æ¨è') || message.includes('èŒä½')) {
                    showPositionMatching();
                    return;
                } else if (message.includes('åˆ†æ') || message.includes('æŸ¥çœ‹')) {
                    showResumeAnalysis();
                    return;
                } else {
                    response = `æˆ‘ç†è§£æ‚¨çš„éœ€æ±‚ã€‚ä½œä¸ºæ‹›è˜åŠ©æ‰‹ï¼Œæˆ‘å¯ä»¥å¸®æ‚¨ï¼š

<div class="mt-3 space-y-2">
<div class="p-3 bg-blue-50 rounded-lg">
ğŸ“„ <strong>ä¸Šä¼ ç®€å†</strong> - è‡ªåŠ¨è§£æå€™é€‰äººä¿¡æ¯ï¼Œå‡†ç¡®ç‡95%+
</div>
<div class="p-3 bg-green-50 rounded-lg">
ğŸ¯ <strong>èŒä½åŒ¹é…</strong> - æ ¹æ®å²—ä½è¦æ±‚æ™ºèƒ½æ¨èåˆé€‚å€™é€‰äºº
</div>
<div class="p-3 bg-purple-50 rounded-lg">
ğŸ“Š <strong>ç®€å†åˆ†æ</strong> - æ·±åº¦åˆ†æå€™é€‰äººæŠ€èƒ½å’ŒåŒ¹é…åº¦
</div>
</div>

<div class="mt-4 text-sm text-gray-600">
ğŸ’¡ ç›®å‰çŸ¥è¯†åº“ä¸­æœ‰ ${resumeLibrary.length} ä»½ç®€å†ï¼Œæ‚¨å¯ä»¥ç›´æ¥ç‚¹å‡»ä¸Šæ–¹åŠŸèƒ½å¡ç‰‡å¼€å§‹æ“ä½œã€‚
</div>`;
                }
                
                addMessage('assistant', response, true);
            }, 1000);
        }

        // æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            isTyping = true;
            const container = document.getElementById('messages-container');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'typing-indicator mb-4';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span class="ml-2 text-sm text-gray-500">æ‹›è˜åŠ©æ‰‹æ­£åœ¨åˆ†æ...</span>
            `;
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
        }

        // éšè—æ‰“å­—æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            isTyping = false;
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // ç‚¹èµæ¶ˆæ¯
        function likeMessage(messageId) {
            const btn = document.querySelector(`#${messageId} .action-btn.like`);
            const dislikeBtn = document.querySelector(`#${messageId} .action-btn.dislike`);
            
            btn.classList.toggle('active');
            dislikeBtn.classList.remove('active');
            
            if (btn.classList.contains('active')) {
                showToast('æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼è¿™å°†å¸®åŠ©æˆ‘ä»¬æ”¹è¿›æ‹›è˜åˆ†æè´¨é‡', 'success');
            } else {
                showToast('å·²å–æ¶ˆç‚¹èµ', 'info');
            }
        }

        // ç‚¹è¸©æ¶ˆæ¯
        function dislikeMessage(messageId) {
            const btn = document.querySelector(`#${messageId} .action-btn.dislike`);
            const likeBtn = document.querySelector(`#${messageId} .action-btn.like`);
            
            btn.classList.toggle('active');
            likeBtn.classList.remove('active');
            
            if (btn.classList.contains('active')) {
                showToast('æˆ‘ä»¬å·²è®°å½•æ‚¨çš„åé¦ˆï¼Œä¼šæŒç»­ä¼˜åŒ–åˆ†æç®—æ³•', 'info');
            } else {
                showToast('å·²å–æ¶ˆåé¦ˆ', 'info');
            }
        }

        // é‡ç½®ä¼šè¯
        function resetSession() {
            document.getElementById('messages-container').innerHTML = `
                <!-- åŠ©æ‰‹ä»‹ç»æ¶ˆæ¯ -->
                <div class="message-bubble assistant-message p-4 mb-6">
                    <div class="prose prose-sm max-w-none text-gray-700 mb-4">
                        <p class="mb-3">æˆ‘èƒ½å¤Ÿæ™ºèƒ½è§£æç®€å†ã€å¿«é€Ÿç­›é€‰å€™é€‰äººã€ç”Ÿæˆé¢è¯•é—®é¢˜ï¼Œå¹¶æä¾›é¢è¯•è¯„ä¼°å»ºè®®ï¼Œè®©æ‹›è˜å·¥ä½œæ›´åŠ é«˜æ•ˆç²¾å‡†ã€‚</p>
                        <p class="mb-3">æˆ‘æ”¯æŒ<span class="font-semibold text-blue-600">ç®€å†è‡ªåŠ¨è§£æ</span>ï¼ˆå‡†ç¡®ç‡95%+ï¼‰ã€<span class="font-semibold text-blue-600">æ™ºèƒ½æ ‡ç­¾åŒ¹é…</span>å’Œ<span class="font-semibold text-blue-600">å€™é€‰äººè¯„ä¼°</span>ã€‚</p>
                        <p class="text-sm text-gray-600">ğŸ’¡ <strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong>ç®€å†è§£æä¸æ ‡ç­¾åŒ–ã€æŒ‰å…³é”®è¯ç­›é€‰ã€é¢è¯•é—®é¢˜ç”Ÿæˆã€å€™é€‰äººèµ„è´¨è¯„ä¼°</p>
                    </div>
                    <p class="text-gray-700 font-medium">è¯·é€‰æ‹©æ‚¨è¦è¿›è¡Œçš„æ“ä½œï¼š</p>
                </div>
                
                <!-- åŠŸèƒ½é€‰æ‹©å¡ç‰‡ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <!-- ä¸Šä¼ ç®€å†å¡ç‰‡ -->
                    <div class="upload-card specular-highlight" onclick="showUploadInterface()">
                        <div class="text-4xl mb-4">ğŸ“„</div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">ä¸Šä¼ ç®€å†åˆ°çŸ¥è¯†åº“</h3>
                        <p class="text-gray-600 text-sm mb-4">æ”¯æŒPDFã€Wordã€å›¾ç‰‡æ ¼å¼<br>è‡ªåŠ¨è§£æå€™é€‰äººä¿¡æ¯</p>
                        <div class="inline-flex items-center text-blue-600 text-sm font-medium">
                            <span>ç‚¹å‡»ä¸Šä¼ </span>
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- èŒä½åŒ¹é…å¡ç‰‡ -->
                    <div class="feature-card specular-highlight" onclick="showPositionMatching()">
                        <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mb-4">
                            <span class="text-white text-lg">ğŸ¯</span>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">èŒä½åŒ¹é…åˆ†æ</h3>
                        <p class="text-gray-600 text-sm">æ ¹æ®èŒä½è¦æ±‚<br>æ™ºèƒ½æ¨èåˆé€‚å€™é€‰äºº</p>
                    </div>
                    
                    <!-- ç®€å†åˆ†æå¡ç‰‡ -->
                    <div class="feature-card specular-highlight" onclick="showResumeAnalysis()">
                        <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mb-4">
                            <span class="text-white text-lg">ğŸ“Š</span>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">ç®€å†æ·±åº¦åˆ†æ</h3>
                        <p class="text-gray-600 text-sm">è¯¦ç»†åˆ†æå€™é€‰äºº<br>æŠ€èƒ½ã€ç»éªŒå’ŒåŒ¹é…åº¦</p>
                    </div>
                </div>
            `;
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('æ‹›è˜åŠ©æ‰‹å·²åŠ è½½å®Œæˆ');
        });
    </script>
</body>
</html>