<!DOCTYPE html>
<html lang="zh-CN" style="overflow: hidden;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智言银行后台管理端</title>
    <script src="/console/style/tailwindcss.3.0.23.js"></script>
    <style>
        :root {
            --dify-primary: #2970FF;
            --dify-primary-light: #EBF2FF;
            --dify-sidebar-bg: #F9FAFB;
            --dify-border: #E5E7EB;
            --dify-hover: #F3F4F6;
            --dify-active: #EBF2FF;
            --dify-text-primary: #1F2937;
            --dify-text-secondary: #6B7280;
            --dify-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
            color: var(--dify-text-primary);
        }

        /* 菜单项基础样式 */
        .menu-item {
            border-radius: 8px;
            margin: 2px 8px;
            transition: all 0.2s ease;
            position: relative;
        }

        .menu-item:hover {
            background-color: var(--dify-hover);
        }

        /* 主菜单项激活状态 */
        .menu-item.active {
            /* background-color: var(--dify-active); */
            color: var(--dify-primary);
            font-weight: 500;
            /* box-shadow: 0 1px 3px rgba(41, 112, 255, 0.1); */
        }

        .menu-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background-color: var(--dify-primary);
            border-radius: 0 2px 2px 0;
        }

        /* 子菜单项样式 */
        .menu-subitem {
            padding: 8px 12px;
            margin: 2px 0;
            border-radius: 6px;
            transition: all 0.2s ease;
            position: relative;
            cursor: pointer;
        }

        .menu-subitem:hover {
            background-color: var(--dify-hover);
            color: var(--dify-primary);
        }

        /* 子菜单项激活状态 */
        .menu-subitem.active-subitem {
            color: var(--dify-primary);
            font-weight: 500;
            /* box-shadow: 0 2px 4px rgba(41, 112, 255, 0.2); */
        }

        .menu-subitem.active-subitem:hover {
            color: #2563EB;
            background-color: var(--dify-hover);
            /* color: white; */
        }

        /* 子菜单展开动画 */
        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .submenu.open {
            max-height: 500px;
        }

        /* 顶部导航项样式 */
        .top-nav-item {
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 0 4px;
        }

        .top-nav-item:hover {
            color: var(--dify-primary);
            /* background-color: var(--dify-hover); */
        }

        .top-nav-item.active {
            color: var(--dify-primary);
            font-weight: 600;
            /* background-color: var(--dify-active); */
        }

        .top-nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 3px;
            background-color: var(--dify-primary);
            border-radius: 2px 2px 0 0;
        }

        /* 菜单容器样式 */
        .menu-container {
            display: none;
            animation: fadeIn 0.2s ease-in-out;
        }

        .menu-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 菜单头部样式 */
        .menu-header {
            display: none;
            padding: 12px 16px 8px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--dify-text-secondary);
            border-bottom: 1px solid var(--dify-border);
            margin-bottom: 8px;
            background: linear-gradient(90deg, var(--dify-primary) 0%, transparent 100%);
            background-size: 20px 1px;
            background-repeat: no-repeat;
            background-position: 0 bottom;
        }

        /* 菜单图标样式 */
        .menu-item svg,
        .menu-subitem svg {
            transition: all 0.2s ease;
        }

        .menu-item.active svg {
            color: var(--dify-primary);
            transform: scale(1.05);
        }

        .menu-subitem.active-subitem svg {
            color: white;
        }

        /* 箭头旋转动画 */
        .menu-item.active .ml-auto {
            transform: rotate(180deg);
            color: var(--dify-primary);
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .menu-item {
                margin: 1px 4px;
            }

            .menu-subitem {
                padding: 6px 8px;
            }

            .top-nav-item {
                padding: 8px 12px;
                margin: 0 2px;
            }
        }

        /* 添加一些微妙的动画效果 */
        .menu-item,
        .menu-subitem {
            transform: translateZ(0);
        }

        .menu-item:active,
        .menu-subitem:active {
            transform: scale(0.98);
        }

        /* 侧边栏滚动条样式 */
        .menu-container::-webkit-scrollbar {
            width: 4px;
        }

        .menu-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .menu-container::-webkit-scrollbar-thumb {
            background: var(--dify-border);
            border-radius: 2px;
        }

        .menu-container::-webkit-scrollbar-thumb:hover {
            background: var(--dify-text-secondary);
        }

        .dify-card {
            border-radius: 12px;
            border: 1px solid var(--dify-border);
            box-shadow: var(--dify-shadow);
            transition: all 0.3s ease;
        }

        .dify-card:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .dify-btn {
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .dify-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .dify-tag {
            border-radius: 16px;
            padding: 2px 10px;
            font-size: 12px;
            font-weight: 500;
        }

        .dify-sidebar {
            background-color: var(--dify-sidebar-bg);
        }

        /* search */
        #search-container {
            animation: slideDown 0.2s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-result-item {
            padding: 8px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.15s ease;
        }

        .search-result-item:hover,
        .search-result-item.highlighted {
            background-color: #f8fafc;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-breadcrumb {
            font-size: 11px;
            color: #6b7280;
            margin-top: 2px;
        }

        .search-match {
            background-color: #fef3c7;
            padding: 1px 2px;
            border-radius: 2px;
        }

        /* 搜索结果高亮样式 */
        .search-result-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: all 0.15s ease;
            border-radius: 0;
        }

        .search-result-item:hover,
        .search-result-item.highlighted {
            background-color: var(--dify-active);
            color: var(--dify-primary);
        }

        .search-result-item:first-child {
            border-radius: 8px 8px 0 0;
        }

        .search-result-item:last-child {
            border-radius: 0 0 8px 8px;
            border-bottom: none;
        }

        .search-result-item:only-child {
            border-radius: 8px;
        }

        /* 面包屑路径样式 */
        .search-breadcrumb {
            font-size: 11px;
            color: var(--dify-text-secondary);
            margin-top: 4px;
            opacity: 0.8;
        }

        .search-result-item.highlighted .search-breadcrumb {
            color: var(--dify-primary);
            opacity: 0.7;
        }

        /* 搜索匹配高亮 */
        .search-match {
            background-color: #FEF3C7;
            color: #D97706;
            padding: 1px 3px;
            border-radius: 3px;
            font-weight: 500;
        }

        .search-result-item.highlighted .search-match {
            background-color: var(--dify-primary);
            color: white;
        }

        /* Dropdown styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            min-width: 320px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            border: 1px solid #E5E7EB;
            z-index: 1000;
            top: 100%;
            margin-top: 4px;
            max-height: 400px;
            overflow-y: auto;
        }

        .dropdown-content.show {
            display: block;
        }

        .dropdown-item {
            color: #1F2937;
            padding: 12px 16px;
            text-decoration: none;
            display: flex;
            align-items: center;
            transition: background-color 0.2s ease;
            font-size: 14px;
        }

        .dropdown-item:hover {
            background-color: #F3F4F6;
        }

        .dropdown-item:first-child {
            border-radius: 8px 8px 0 0;
        }

        .dropdown-item:last-child {
            border-radius: 0 0 8px 8px;
        }

        .dropdown-divider {
            height: 1px;
            background-color: #E5E7EB;
            margin: 4px 0;
        }

        .tenant-selector {
            background: #F3F4F6;
            border-radius: 8px;
            padding: 6px 12px;
            font-size: 14px;
            color: #1F2937;
            border: 1px solid #E5E7EB;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tenant-selector:hover {
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .admin-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }

        .admin-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>

<body class="bg-white font-sans" style="overflow: hidden;">
    <div class="flex flex-col h-screen overflow-hidden">
        <!-- Top Navigation Bar -->
        <div class="bg-white shadow-sm border-b border-gray-100">
            <div>
                <div class="flex items-center justify-between h-16 px-4">
                    <!-- Left: Logo and Title -->
                    <div class="flex items-center">
                        <div class="flex-shrink-0 mr-4">
                            <img src="/console/img/agreeLogo.png" alt="赞同科技" class="h-8" />
                        </div>
                        <div class="hidden md:block">
                            <h1 class="text-lg font-medium text-gray-800 cursor-default">
                                智言银行后台管理端 
                                <small class="text-gray-400 hover:text-sky-700 cursor-pointer" onclick="loadIframe('/console/log')">V3.2506.2</small></h1>
                        </div>


                    </div>

                    <!-- Middle: Tenant Selector + Main Navigation -->
                    <div class="hidden md:flex items-center space-x-6">


                        <!-- Main Navigation -->
                        <div class="flex items-center space-x-8">
                            <div class="top-nav-item active px-3 py-5 text-gray-800 font-medium"
                                data-target="development">
                                开发
                            </div>
                            <div class="top-nav-item px-3 py-5 text-gray-600 font-medium" data-target="maintenance">
                                运维
                            </div>
                            <div class="top-nav-item px-3 py-5 text-gray-600 font-medium" data-target="operations">
                                运营
                            </div>
                        </div>
                    </div>

                    <!-- Right: Search, Admin Portal and User -->
                    <div class="flex items-center space-x-4">
                        <!-- Search -->
                        <div class="relative">
                            <!-- Search Button/Input Toggle -->
                            <div id="search-trigger"
                                class="px-4 py-2 flex items-center text-gray-600 hover:text-gray-900 cursor-pointer transition-all duration-200"
                                onclick="toggleSearch()">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </div>

                            <!-- Search Input Container -->
                            <div id="search-container" class="absolute right-0 top-0 hidden z-50">
                                <div class="bg-white rounded-lg shadow-lg border border-gray-200 w-80">
                                    <div class="p-3">
                                        <div class="relative">
                                            <input type="text" id="search-input" placeholder="搜索功能模块..."
                                                class="w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                oninput="handleSearch(this.value)" onkeydown="handleKeydown(event)" />
                                            <svg class="absolute left-3 top-2.5 w-4 h-4 text-gray-400" fill="none"
                                                stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                            </svg>
                                            <button onclick="closeSearch()"
                                                class="absolute right-2 top-2 p-1 text-gray-400 hover:text-gray-600">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                    viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Search Results -->
                                    <div id="search-results" class="max-h-96 overflow-y-auto border-t border-gray-100">
                                        <!-- Results will be populated here -->
                                    </div>

                                    <!-- Search Tips -->
                                    <div id="search-tips" class="p-3 border-t border-gray-100 text-xs text-gray-500">
                                        <div class="mb-2 font-medium">快速导航提示：</div>
                                        <div class="space-y-1">
                                            <div>• 输入 "模型" 查找模型相关功能</div>
                                            <div>• 输入 "安全" 查找安全护盾功能</div>
                                            <div>• 输入 "监控" 查找监控中心</div>
                                            <div>• 输入 "智能体" 查找Agent功能</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tenant Selector -->
                        <div class="mr-6 dropdown">
                            <div class="tenant-selector flex items-center" onclick="toggleTenantDropdown()">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h6m-6 4h8">
                                    </path>
                                </svg>
                                <span id="current-tenant">智言银行</span>
                                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <div id="tenant-dropdown" class="dropdown-content">
                                <!-- 赞同智能体即服务平台 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智能体即服务平台')">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智能体即服务平台</div>
                                        <div class="text-xs text-gray-500">AAaaS - 智体开发运行运维一体化平台</div>
                                    </div>
                                </a>

                                <!-- 智言银行 (保留) -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('智言银行')">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">智言银行</div>
                                        <div class="text-xs text-gray-500">LUI团队租户</div>
                                    </div>
                                </a>

                                <!-- 赞同智能代码守护 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智能代码守护')">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智能代码守护</div>
                                        <div class="text-xs text-gray-500">ACR - codereview</div>
                                    </div>
                                </a>

                                <!-- 赞同大模型安全护盾 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同大模型安全护盾')">
                                    <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同大模型安全护盾</div>
                                        <div class="text-xs text-gray-500">AISG - AI security guard</div>
                                    </div>
                                </a>

                                <!-- 赞同智能知识库 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智能知识库')">
                                    <div class="w-3 h-3 bg-purple-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智能知识库</div>
                                        <div class="text-xs text-gray-500">AIKB - Intelligent Knowledge Base</div>
                                    </div>
                                </a>

                                <!-- 赞同智能报告生成工具 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智能报告生成工具')">
                                    <div class="w-3 h-3 bg-indigo-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智能报告生成工具</div>
                                        <div class="text-xs text-gray-500">AISmartReport</div>
                                    </div>
                                </a>

                                <!-- 赞同智能数据看板 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智能数据看板')">
                                    <div class="w-3 h-3 bg-cyan-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智能数据看板</div>
                                        <div class="text-xs text-gray-500">AIDB - Agree Intelligent Data Board 魔境</div>
                                    </div>
                                </a>

                                <!-- 智能客服 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('智能客服')">
                                    <div class="w-3 h-3 bg-orange-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">智能客服</div>
                                        <div class="text-xs text-gray-500">AICS - Agree Intelligent Customer Service
                                        </div>
                                    </div>
                                </a>

                                <!-- 赞同智慧运维协作工具 -->
                                <a href="#" class="dropdown-item" onclick="selectTenant('赞同智慧运维协作工具')">
                                    <div class="w-3 h-3 bg-teal-500 rounded-full mr-3"></div>
                                    <div>
                                        <div class="font-medium">赞同智慧运维协作工具</div>
                                        <div class="text-xs text-gray-500">AIChatops</div>
                                    </div>
                                </a>

                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item" onclick="manageTenants()">
                                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                        </path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    租户管理
                                </a>
                            </div>
                        </div>

                        <!-- Admin Portal Button -->
                        <button
                            class="dify-btn px-4 py-2 border border-gray-300 bg-white text-gray-700 text-sm font-medium hover:bg-gray-50 focus:outline-none flex items-center"
                            onclick="openAdminPortal()">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                </path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            超管
                        </button>

                        <!-- User Avatar with Dropdown -->
                        <div class="dropdown">
                            <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center cursor-pointer"
                                onclick="toggleUserDropdown()">
                                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <div id="user-dropdown" class="dropdown-content">
                                <a href="#" class="dropdown-item">
                                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">
                                        </path>
                                    </svg>
                                    个人设置
                                </a>
                                <a href="#" class="dropdown-item">
                                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">
                                        </path>
                                    </svg>
                                    系统偏好
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item text-red-600">
                                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                                        </path>
                                    </svg>
                                    退出登录
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex flex-1 overflow-hidden">
            <!-- Left Sidebar - Changes based on top navigation selection -->
            <div class="dify-sidebar w-72 flex-shrink-0 mt-4 ml-4 mb-4 rounded-xl">
                <!-- Development Menu -->
                <div class="menu-container active h-full overflow-y-auto" id="development-menu">
                    <nav class="mt-4">
                        <div class="menu-header px-4 py-3 text-xs font-semibold tracking-wider text-gray-500 uppercase">
                            开发侧
                        </div>
                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="model-center">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z">
                                    </path>
                                </svg>
                            </span>
                            <span>模型中心 Models</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="model-center-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="model-management">模型管理 LLM</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="model-evaluation">模型评估</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="model-optimization">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                                    </path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </span>
                            <span>模型优化</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="model-optimization-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="model-distillation">模型蒸馏 Distillation</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="model-training">模型微调 Fine-tuning</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="inference-optimization">推理优化 Inference</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="external-services">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9">
                                    </path>
                                </svg>
                            </span>
                            <span>外部服务</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="external-services-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="mcp-client">MCP Client</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="api-connection">API 连接</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="service-registry">服务注册</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="ability-center">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </span>
                            <span>智能体中心 Agents</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="ability-center-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="agent-management">智能体管理</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="agent-testing">智能体评测</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="prompt-template">提示词工程 Prompting</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="dynamic-orchestration">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z">
                                    </path>
                                </svg>
                            </span>
                            <span>流程编排 Orchestration</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="dynamic-orchestration-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="dynamic-management">流程设计</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="dynamic-mapping">节点配置</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="component-dev">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">
                                    </path>
                                </svg>
                            </span>
                            <span>LUI 交互组件</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="component-dev-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="card-dev">组件开发</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="data-process">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4">
                                    </path>
                                </svg>
                            </span>
                            <span>知识库管理 RAG</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="data-process-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="embedding-models">向量模型（Embedding/Rerank）</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="knowledge">内容管理</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="qa-generation">问答对生成</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="qa-feedback">问答对反馈</div>
                        </div>
                    </nav>
                </div>

                <!-- Maintenance Menu -->
                <div class="menu-container h-full overflow-y-auto" id="maintenance-menu">
                    <nav class="mt-4">
                        <div class="menu-header px-4 py-3 text-xs font-semibold tracking-wider text-gray-500 uppercase">
                            运维侧
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="security-management">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                                    </path>
                                </svg>
                            </span>
                            <span>安全护盾</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="security-management-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="security-overview">安全日志</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="security-private">提示词护盾</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="security-prompt">敏感词</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="anti-fraud-engine">反诈配置</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="operation-monitoring">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                                    </path>
                                </svg>
                            </span>
                            <span>监控中心</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="operation-monitoring-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="service-monitor">服务监控</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="resource-monitor">资源监控</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="alert-management">告警管理</div>
                        </div>

                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="service-management">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01">
                                    </path>
                                </svg>
                            </span>
                            <span>资源管理</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="service-management-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="service-deploy">部署管理</div>
                        </div>

                        <!-- Simplified Permission Management - Removed user/permission/role/tenant submenu items -->
                        <!-- <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="basic-permissions">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z">
                                    </path>
                                </svg>
                            </span>
                            <span>基础权限</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="basic-permissions-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="api-permissions">API权限配置</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="resource-permissions">资源权限配置</div>
                        </div> -->
                    </nav>
                </div>

                <!-- Operations Menu -->
                <div class="menu-container h-full overflow-y-auto" id="operations-menu">
                    <nav class="mt-4">
                        <div class="menu-header px-4 py-3 text-xs font-semibold tracking-wider text-gray-500 uppercase">
                            运营侧
                        </div>

                        <!-- 用户价值 -->
                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="user-experience">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z">
                                    </path>
                                </svg>
                            </span>
                            <span>用户价值</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="user-experience-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="qa-analysis">问答分析</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="user-feedback">用户反馈</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="user-satisfy">满意度分析</div>
                        </div>

                        <!-- 业务运营 -->
                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="business-operations">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                                    </path>
                                </svg>
                            </span>
                            <span>业务运营</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="business-operations-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="usage-metrics">使用指标</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="qa-performance">问答效能</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="operation-logs">操作记录</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="ai-performance">AI表现</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="roi-analysis">ROI分析</div>
                        </div>

                        <!-- 风险合规 -->
                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="risk-compliance">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                                    </path>
                                </svg>
                            </span>
                            <span>风险合规</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="risk-compliance-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="attack-defense">攻击防护</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="compliance-audit">合规审计</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="transaction-control">交易风控</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer" 
                                data-id="anti-fraud-monitoring">
                                    反诈监控
                            </div>
                        </div>

                        <!-- 决策洞察 -->
                        <div class="menu-item flex items-center px-4 py-2 text-gray-700 cursor-pointer"
                            data-menu="decision-insights">
                            <span class="mr-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                                    </path>
                                </svg>
                            </span>
                            <span>决策洞察</span>
                            <svg class="w-4 h-4 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="submenu pl-10" id="decision-insights-submenu">
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="trend-analysis">趋势分析</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="market-insight">市场洞察</div>
                            <div class="menu-subitem py-2 text-sm text-gray-600 hover:text-blue-600 cursor-pointer"
                                data-id="prediction-model">预测模型</div>
                        </div>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <!-- Content Area -->
                <div class="flex-1 overflow-auto bg-white p-4">
                    <!-- IFRAME Content Container -->
                    <div id="iframe-container" class="w-full h-full hidden">
                        <iframe id="content-iframe" src="" class="w-full h-full border-0 rounded-xl"
                            frameborder="0"></iframe>
                    </div>

                    <!-- Default Dashboard Content -->
                    <div id="default-content">
                        <div class="mb-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-2xl font-semibold text-gray-800">AI动态业务编排</h1>
                                    <p class="text-gray-600 mt-1">基于LUI（大语言模型用户界面）的动态流程管理系统</p>
                                </div>
                                <div class="flex items-center space-x-3 text-sm text-gray-500">
                                    <span class="flex items-center">
                                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                                        当前租户: <span id="dashboard-tenant" class="font-medium ml-1">智言银行总行</span>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Dashboard Preview -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Card 1 -->
                            <div class="dify-card p-6 bg-white">
                                <div class="flex items-center justify-between">
                                    <h2 class="text-lg font-medium text-gray-800">业务流程</h2>
                                    <span class="dify-tag bg-blue-50 text-blue-600">5 新增</span>
                                </div>
                                <div class="mt-4 flex items-end justify-between">
                                    <div>
                                        <p class="text-3xl font-semibold text-gray-800">24</p>
                                        <p class="text-sm text-gray-500">已配置流程</p>
                                    </div>
                                    <div
                                        class="flex h-12 w-12 items-center justify-center rounded-full bg-blue-50 text-blue-600">
                                        <svg width="20" height="20" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2">
                                            </path>
                                        </svg>
                                    </div>
                                </div>
                            </div>

                            <!-- Card 2 -->
                            <div class="dify-card p-6 bg-white">
                                <div class="flex items-center justify-between">
                                    <h2 class="text-lg font-medium text-gray-800">AI模型</h2>
                                    <span class="dify-tag bg-green-50 text-green-600">正常</span>
                                </div>
                                <div class="mt-4 flex items-end justify-between">
                                    <div>
                                        <p class="text-3xl font-semibold text-gray-800">8</p>
                                        <p class="text-sm text-gray-500">运行中模型</p>
                                    </div>
                                    <div
                                        class="flex h-12 w-12 items-center justify-center rounded-full bg-green-50 text-green-600">
                                        <svg width="20" height="20" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z">
                                            </path>
                                        </svg>
                                    </div>
                                </div>
                            </div>

                            <!-- Card 3 -->
                            <div class="dify-card p-6 bg-white">
                                <div class="flex items-center justify-between">
                                    <h2 class="text-lg font-medium text-gray-800">用户会话</h2>
                                    <span class="dify-tag bg-yellow-50 text-yellow-600">+12%</span>
                                </div>
                                <div class="mt-4 flex items-end justify-between">
                                    <div>
                                        <p class="text-3xl font-semibold text-gray-800">1,254</p>
                                        <p class="text-sm text-gray-500">今日会话数</p>
                                    </div>
                                    <div
                                        class="flex h-12 w-12 items-center justify-center rounded-full bg-yellow-50 text-yellow-600">
                                        <svg width="20" height="20" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z">
                                            </path>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Content Panel -->
                        <div class="mt-8 dify-card bg-white overflow-hidden">
                            <div class="px-6 py-4 border-b border-gray-100">
                                <div class="flex items-center justify-between">
                                    <h3 class="text-lg font-medium text-gray-800">动态业务流程列表</h3>
                                    <button
                                        class="dify-btn px-4 py-2 bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 focus:outline-none">
                                        新建流程
                                    </button>
                                </div>
                            </div>
                            <div class="p-6">
                                <div class="overflow-x-auto">
                                    <table class="w-full">
                                        <thead>
                                            <tr class="border-b border-gray-200">
                                                <th
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    流程名称</th>
                                                <th
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    类型</th>
                                                <th
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    状态</th>
                                                <th
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    版本</th>
                                                <th
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    更新时间</th>
                                                <th
                                                    class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    操作</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm font-medium text-gray-900">转账流程</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm text-gray-500">转账汇款</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已上线</span>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">v2.1</td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">2025-04-20
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900">复制</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm font-medium text-gray-900">企业转账流程</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm text-gray-500">转账汇款</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已上线</span>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">v1.5</td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">2025-03-15
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900">复制</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm font-medium text-gray-900">跨境转账流程</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm text-gray-500">转账汇款</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">测试中</span>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">v0.9</td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">2025-05-01
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900">复制</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm font-medium text-gray-900">理财投资流程</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm text-gray-500">理财投资</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已上线</span>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">v1.2</td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">2025-04-10
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900">复制</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm font-medium text-gray-900">信用卡还款流程</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <div class="text-sm text-gray-500">信用卡</div>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已上线</span>
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">v2.0</td>
                                                <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-500">2025-04-25
                                                </td>
                                                <td class="px-4 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900">复制</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // URL Mapping for menu items
            const menuURLMapping = {
                // Development section
                "model-center": "/development/model-center/model-management",
                "model-optimization": "/development/model-optimization/model-distillation",
                "ability-center": "/development/ability-center/agent-management",
                "component-dev": "/development/component-dev/card-dev",
                "data-process": "/development/data-process/knowledge",
                "dynamic-orchestration": "/development/dynamic-orchestration/dynamic-orchestration-management",
                "external-services": "/development/external-services/mcp-client",

                // Maintenance section
                "operation-monitoring": "/maintenance/operation-monitoring/service-monitor",
                "security-management": "/maintenance/security-management/index",
                "service-management": "/maintenance/service-management/service-deploy",
                "basic-permissions": "/maintenance/basic-permissions/api-permissions",

                // Operations section
                "user-experience": "/operations/user-experience/qa-analysis",
                "business-operations": "/operations/business-operations/usage-metrics",
                "risk-compliance": "/operations/risk-compliance/attack-defense",
                "decision-insights": "/operations/decision-insights/trend-analysis"
            };

            // Submenu URL Mapping
            const submenuURLMapping = {
                // Development submenu items
                "model-management": "/development/model-center/model-management",
                "model-evaluation": "/development/model-center/model-evaluation",
                "model-distillation": "/development/model-optimization/model-distillation",
                "model-training": "/development/model-center/model-training",
                "inference-optimization": "/development/model-optimization/inference-optimization",
                "agent-management": "/development/ability-center/agent-management",
                "agent-testing": "/development/ability-center/agent-testing",
                "prompt-template": "/development/ability-center/prompt-template",
                "mcp-client": "/development/external-services/mcp-client",
                "api-connection": "/development/external-services/api-connection",
                "service-registry": "/development/model-optimization/service-registry",
                "dynamic-management": "/development/dynamic-orchestration/dynamic-orchestration-management",
                "dynamic-mapping": "/development/dynamic-orchestration/dynamic-orchestration-mapping",
                "knowledge": "/development/data-process/knowledge",
                "qa-generation": "/development/data-process/qa-generation",
                "qa-feedback": "/development/data-process/qa-feedback",
                "embedding-models": "/development/data-process/embedding-models",
                "card-dev": "/development/component-dev/card-dev",

                // Maintenance submenu items
                "security-overview": "/maintenance/security-management/index",
                "security-private": "/maintenance/security-management/private",
                "security-prompt": "/maintenance/security-management/prompt",
                // 新增AI反诈配置
                "anti-fraud-engine": "/maintenance/security-management/anti-fraud-engine",


                "service-monitor": "/maintenance/operation-monitoring/service-monitor",
                "resource-monitor": "/maintenance/operation-monitoring/resource-monitor",
                "alert-management": "/maintenance/operation-monitoring/alert-management",
                "service-deploy": "/maintenance/service-management/service-deploy",
                "api-permissions": "/maintenance/basic-permissions/api-permissions",
                "resource-permissions": "/maintenance/basic-permissions/resource-permissions",

                // Operations submenu items
                "qa-analysis": "/operations/user-experience/qa-analysis",
                "user-feedback": "/operations/user-experience/user-feedback-v2",
                "user-satisfy": "/operations/user-experience/user-satisfy-v2",
                "usage-metrics": "/operations/business-operations/usage-metrics",
                "qa-performance": "/operations/business-operations/qa-performance",
                "operation-logs": "/operations/business-operations/operation-logs",
                "ai-performance": "/operations/business-operations/ai-performance",
                "roi-analysis": "/operations/business-operations/roi-analysis",
                "attack-defense": "/operations/risk-compliance/attack-defense",
                "compliance-audit": "/operations/risk-compliance/compliance-audit",
                "transaction-control": "/operations/risk-compliance/transaction-control",

                // 运营侧 - 反诈监控运营  
                'anti-fraud-monitoring': '/operations/risk-compliance/anti-fraud-monitoring',
                


                "transaction-control": "/operations/risk-compliance/transaction-control",
                "trend-analysis": "/operations/decision-insights/trend-analysis",
                "market-insight": "/operations/decision-insights/market-insight",
                "prediction-model": "/operations/decision-insights/prediction-model",


                "trend-analysis":"/operations/decision-insights/trend-analysis",
                "prediction-model":"/operations/decision-insights/prediction-model"
            };

            // Dropdown functionality
            function toggleTenantDropdown() {
                const dropdown = document.getElementById('tenant-dropdown');
                dropdown.classList.toggle('show');

                // Close user dropdown if open
                document.getElementById('user-dropdown').classList.remove('show');
            }

            function toggleUserDropdown() {
                const dropdown = document.getElementById('user-dropdown');
                dropdown.classList.toggle('show');

                // Close tenant dropdown if open
                document.getElementById('tenant-dropdown').classList.remove('show');
            }

            // Close dropdowns when clicking outside
            window.onclick = function (event) {
                if (!event.target.matches('.tenant-selector') && !event.target.closest('.tenant-selector')) {
                    document.getElementById('tenant-dropdown').classList.remove('show');
                }
                if (!event.target.closest('.dropdown')) {
                    document.getElementById('user-dropdown').classList.remove('show');
                }
            }

            // Tenant selection
            function selectTenant(tenantName) {
                document.getElementById('current-tenant').textContent = tenantName;
                document.getElementById('dashboard-tenant').textContent = tenantName;
                document.getElementById('tenant-dropdown').classList.remove('show');

                // You can add more logic here to handle tenant switching
                console.log('Switched to tenant:', tenantName);
            }

            // Admin portal navigation
            function openAdminPortal() {
                // You can either open in a new window/tab or navigate within the same app
                window.open('/admin-portal/index.html', '_blank');
                // Or use: window.location.href = '/admin-portal';
            }

            // Tenant management
            function manageTenants() {
                document.getElementById('tenant-dropdown').classList.remove('show');
                window.open('console/admin-portal/tenant-management.html', '_blank');
            }

            // 增强的菜单交互功能
            document.addEventListener('DOMContentLoaded', function () {
                // 菜单项点击处理
                document.querySelectorAll('.menu-item').forEach(item => {
                    item.addEventListener('click', function (e) {
                        let menuId = this.getAttribute('data-menu');
                        const submenu = document.getElementById(`${menuId}-submenu`);

                        // 更新菜单项活跃状态
                        document.querySelectorAll('.menu-item').forEach(i => {
                            if (i !== this) {
                                i.classList.remove('active');
                            }
                        });
                        this.classList.add('active');

                        // 处理子菜单展开
                        if (submenu) {
                            // 关闭同级别的其他子菜单
                            const parentContainer = this.closest('.menu-container');
                            parentContainer.querySelectorAll('.submenu').forEach(sub => {
                                if (sub !== submenu) {
                                    sub.classList.remove('open');
                                }
                            });
                            submenu.classList.add('open');


                            const submenuItem = submenu.querySelector('.menu-subitem');


                            submenuItem.classList.add('active-subitem');

                            const itemId = submenuItem.getAttribute('data-id');


                            // 如果有URL映射，加载对应页面
                            if (submenuURLMapping && itemId && submenuURLMapping[itemId]) {
                                loadIframe(submenuURLMapping[itemId]);
                            }
                        }


                        e.stopPropagation();
                    });
                });

                // 子菜单项点击处理
                document.querySelectorAll('.menu-subitem').forEach(item => {
                    item.addEventListener('click', function (e) {
                        e.stopPropagation();

                        const itemId = this.getAttribute('data-id');

                        // 更新子菜单项活跃状态
                        document.querySelectorAll('.menu-subitem').forEach(subitem => {
                            subitem.classList.remove('active-subitem');
                        });
                        this.classList.add('active-subitem');

                        // 确保父菜单项也是活跃状态
                        const parentMenuItem = this.closest('.menu-item');
                        if (parentMenuItem) {
                            document.querySelectorAll('.menu-item').forEach(item => {
                                item.classList.remove('active');
                            });
                            parentMenuItem.classList.add('active');
                        }

                        // 如果有URL映射，加载对应页面
                        if (submenuURLMapping && itemId && submenuURLMapping[itemId]) {
                            loadIframe(submenuURLMapping[itemId]);
                        }
                    });
                });

                // 顶部导航切换处理
                document.querySelectorAll('.top-nav-item').forEach(item => {
                    item.addEventListener('click', function () {
                        const target = this.getAttribute('data-target');

                        // 更新顶部导航活跃状态
                        document.querySelectorAll('.top-nav-item').forEach(navItem => {
                            navItem.classList.remove('active');
                        });
                        this.classList.add('active');

                        // 切换菜单容器
                        document.querySelectorAll('.menu-container').forEach(container => {
                            container.classList.remove('active');
                        });

                        const targetMenu = document.getElementById(`${target}-menu`);
                        if (targetMenu) {
                            targetMenu.classList.add('active');

                            // 自动点击第一个菜单项
                            setTimeout(() => {

                                targetMenu.querySelectorAll('.menu-item').forEach(item => {
                                    item.classList.remove('active');
                                });
                                targetMenu.querySelectorAll('.submenu').forEach(item => {
                                    item.classList.remove('open');
                                });
                                targetMenu.querySelector('.menu-item').classList.add('active');

                                targetMenu.querySelector('.submenu').classList.add('open');

                                const firstMenuItem = targetMenu.querySelector('.menu-subitem');

                                if (firstMenuItem) {
                                    firstMenuItem.click();
                                }
                            }, 100);
                        }
                    });
                });
            });
            // Function to load content in iframe
            function loadIframe(url) {
                // Hide default content and show iframe
                document.getElementById('default-content').style.display = 'none';
                document.getElementById('iframe-container').style.display = 'block';

                // Set iframe src
                const iframe = document.getElementById('content-iframe');
                iframe.src = url + '.html';

                iframe.onload = function () {
                    // Content loaded
                };
            }

            // Top navigation switching
            // document.querySelectorAll('.top-nav-item').forEach(item => {
            //     item.addEventListener('click', function () {
            //         const target = this.getAttribute('data-target');

            //         // Update active state for top nav items
            //         document.querySelectorAll('.top-nav-item').forEach(navItem => {
            //             navItem.classList.remove('active');
            //         });
            //         this.classList.add('active');

            //         // Show appropriate menu container
            //         document.querySelectorAll('.menu-container').forEach(container => {
            //             container.classList.remove('active');
            //         });
            //         document.getElementById(`${target}-menu`).classList.add('active');

            //         // Auto-click first menu item in the selected tab
            //         document.getElementById(`${target}-menu`).querySelector('[data-menu]').click();
            //     });
            // });

            // Initialize page
            setTimeout(() => document.querySelector('[data-target="development"]').click(), 220);

        </script>
        <script>
            // 搜索关键词映射表
            const searchMappings = {
                // 开发侧
                '模型': [
                    { text: '模型管理 LLM', tab: 'development', menu: 'model-center', submenu: 'model-management', breadcrumb: '开发 > 模型中心 > 模型管理 LLM' },
                    { text: '模型评估', tab: 'development', menu: 'model-center', submenu: 'model-evaluation', breadcrumb: '开发 > 模型中心 > 模型评估' },
                    { text: '模型蒸馏', tab: 'development', menu: 'model-optimization', submenu: 'model-distillation', breadcrumb: '开发 > 模型优化 > 模型蒸馏' },
                    { text: '模型微调', tab: 'development', menu: 'model-optimization', submenu: 'model-training', breadcrumb: '开发 > 模型优化 > 模型微调' },
                    { text: '向量模型', tab: 'development', menu: 'data-process', submenu: 'embedding-models', breadcrumb: '开发 > 知识库管理 > 向量模型' }
                ],
                'LLM': [
                    { text: '模型管理 LLM', tab: 'development', menu: 'model-center', submenu: 'model-management', breadcrumb: '开发 > 模型中心 > 模型管理 LLM' }
                ],
                '智能体': [
                    { text: '智能体管理', tab: 'development', menu: 'ability-center', submenu: 'agent-management', breadcrumb: '开发 > 智能体中心 > 智能体管理' },
                    { text: '智能体评测', tab: 'development', menu: 'ability-center', submenu: 'agent-testing', breadcrumb: '开发 > 智能体中心 > 智能体评测' }
                ],
                'Agent': [
                    { text: '智能体管理', tab: 'development', menu: 'ability-center', submenu: 'agent-management', breadcrumb: '开发 > 智能体中心 > 智能体管理' },
                    { text: '智能体评测', tab: 'development', menu: 'ability-center', submenu: 'agent-testing', breadcrumb: '开发 > 智能体中心 > 智能体评测' }
                ],
                '流程': [
                    { text: '流程设计', tab: 'development', menu: 'dynamic-orchestration', submenu: 'dynamic-management', breadcrumb: '开发 > 流程编排 > 流程设计' },
                    { text: '节点配置', tab: 'development', menu: 'dynamic-orchestration', submenu: 'dynamic-mapping', breadcrumb: '开发 > 流程编排 > 节点配置' }
                ],
                '编排': [
                    { text: '流程设计', tab: 'development', menu: 'dynamic-orchestration', submenu: 'dynamic-management', breadcrumb: '开发 > 流程编排 > 流程设计' },
                    { text: '节点配置', tab: 'development', menu: 'dynamic-orchestration', submenu: 'dynamic-mapping', breadcrumb: '开发 > 流程编排 > 节点配置' }
                ],
                '知识库': [
                    { text: '内容管理', tab: 'development', menu: 'data-process', submenu: 'knowledge', breadcrumb: '开发 > 知识库管理 > 内容管理' },
                    { text: '问答对生成', tab: 'development', menu: 'data-process', submenu: 'qa-generation', breadcrumb: '开发 > 知识库管理 > 问答对生成' },
                    { text: '问答对反馈', tab: 'development', menu: 'data-process', submenu: 'qa-feedback', breadcrumb: '开发 > 知识库管理 > 问答对反馈' }
                ],
                'RAG': [
                    { text: '内容管理', tab: 'development', menu: 'data-process', submenu: 'knowledge', breadcrumb: '开发 > 知识库管理 > 内容管理' },
                    { text: '向量模型', tab: 'development', menu: 'data-process', submenu: 'embedding-models', breadcrumb: '开发 > 知识库管理 > 向量模型' }
                ],
                'MCP': [
                    { text: 'MCP Client', tab: 'development', menu: 'external-services', submenu: 'mcp-client', breadcrumb: '开发 > 外部服务 > MCP Client' }
                ],
                'LUI': [
                    { text: '组件开发', tab: 'development', menu: 'component-dev', submenu: 'card-dev', breadcrumb: '开发 > LUI 交互组件 > 组件开发' }
                ],
                '组件': [
                    { text: '组件开发', tab: 'development', menu: 'component-dev', submenu: 'card-dev', breadcrumb: '开发 > LUI 交互组件 > 组件开发' }
                ],

                // 运维侧
                '安全': [
                    { text: '安全日志', tab: 'maintenance', menu: 'security-management', submenu: 'security-overview', breadcrumb: '运维 > 安全护盾 > 安全日志' },
                    { text: '提示词护盾', tab: 'maintenance', menu: 'security-management', submenu: 'security-private', breadcrumb: '运维 > 安全护盾 > 提示词护盾' },
                    { text: '敏感词', tab: 'maintenance', menu: 'security-management', submenu: 'security-prompt', breadcrumb: '运维 > 安全护盾 > 敏感词' },
                    { text: '反诈配置', tab: 'maintenance', menu: 'security-management', submenu: 'anti-fraud-engine', breadcrumb: '运维 > 安全护盾 > 反诈配置' }
                ],
                '护盾': [
                    { text: '提示词护盾', tab: 'maintenance', menu: 'security-management', submenu: 'security-private', breadcrumb: '运维 > 安全护盾 > 提示词护盾' }
                ],
                '监控': [
                    { text: '服务监控', tab: 'maintenance', menu: 'operation-monitoring', submenu: 'service-monitor', breadcrumb: '运维 > 监控中心 > 服务监控' },
                    { text: '资源监控', tab: 'maintenance', menu: 'operation-monitoring', submenu: 'resource-monitor', breadcrumb: '运维 > 监控中心 > 资源监控' },
                    { text: '告警管理', tab: 'maintenance', menu: 'operation-monitoring', submenu: 'alert-management', breadcrumb: '运维 > 监控中心 > 告警管理' }
                ],
                '部署': [
                    { text: '部署管理', tab: 'maintenance', menu: 'service-management', submenu: 'service-deploy', breadcrumb: '运维 > 资源管理 > 部署管理' }
                ],
                '反诈': [
                    { text: '反诈配置', tab: 'maintenance', menu: 'security-management', submenu: 'anti-fraud-engine', breadcrumb: '运维 > 安全护盾 > 反诈配置' }
                ],

                // 运营侧
                '用户': [
                    { text: '问答分析', tab: 'operations', menu: 'user-experience', submenu: 'qa-analysis', breadcrumb: '运营 > 用户价值 > 问答分析' },
                    { text: '用户反馈', tab: 'operations', menu: 'user-experience', submenu: 'user-feedback', breadcrumb: '运营 > 用户价值 > 用户反馈' },
                    { text: '满意度分析', tab: 'operations', menu: 'user-experience', submenu: 'user-satisfy', breadcrumb: '运营 > 用户价值 > 满意度分析' }
                ],
                '问答': [
                    { text: '问答分析', tab: 'operations', menu: 'user-experience', submenu: 'qa-analysis', breadcrumb: '运营 > 用户价值 > 问答分析' },
                    { text: '问答效能', tab: 'operations', menu: 'business-operations', submenu: 'qa-performance', breadcrumb: '运营 > 业务运营 > 问答效能' }
                ],
                '运营': [
                    { text: '使用指标', tab: 'operations', menu: 'business-operations', submenu: 'usage-metrics', breadcrumb: '运营 > 业务运营 > 使用指标' },
                    { text: '问答效能', tab: 'operations', menu: 'business-operations', submenu: 'qa-performance', breadcrumb: '运营 > 业务运营 > 问答效能' },
                    { text: 'ROI分析', tab: 'operations', menu: 'business-operations', submenu: 'roi-analysis', breadcrumb: '运营 > 业务运营 > ROI分析' }
                ],
                '风险': [
                    { text: '攻击防护', tab: 'operations', menu: 'risk-compliance', submenu: 'attack-defense', breadcrumb: '运营 > 风险合规 > 攻击防护' },
                    { text: '合规审计', tab: 'operations', menu: 'risk-compliance', submenu: 'compliance-audit', breadcrumb: '运营 > 风险合规 > 合规审计' },
                    { text: '交易风控', tab: 'operations', menu: 'risk-compliance', submenu: 'transaction-control', breadcrumb: '运营 > 风险合规 > 交易风控' }
                ],
                '分析': [
                    { text: '问答分析', tab: 'operations', menu: 'user-experience', submenu: 'qa-analysis', breadcrumb: '运营 > 用户价值 > 问答分析' },
                    { text: '满意度分析', tab: 'operations', menu: 'user-experience', submenu: 'user-satisfy', breadcrumb: '运营 > 用户价值 > 满意度分析' },
                    { text: 'ROI分析', tab: 'operations', menu: 'business-operations', submenu: 'roi-analysis', breadcrumb: '运营 > 业务运营 > ROI分析' },
                    { text: '趋势分析', tab: 'operations', menu: 'decision-insights', submenu: 'trend-analysis', breadcrumb: '运营 > 决策洞察 > 趋势分析' }
                ],
                '洞察': [
                    { text: '趋势分析', tab: 'operations', menu: 'decision-insights', submenu: 'trend-analysis', breadcrumb: '运营 > 决策洞察 > 趋势分析' },
                    { text: '市场洞察', tab: 'operations', menu: 'decision-insights', submenu: 'market-insight', breadcrumb: '运营 > 决策洞察 > 市场洞察' },
                    { text: '预测模型', tab: 'operations', menu: 'decision-insights', submenu: 'prediction-model', breadcrumb: '运营 > 决策洞察 > 预测模型' }
                ]
            };

            let currentHighlightIndex = -1;
            let searchResults = [];

            function toggleSearch() {
                const container = document.getElementById('search-container');
                const input = document.getElementById('search-input');

                if (container.classList.contains('hidden')) {
                    container.classList.remove('hidden');
                    setTimeout(() => input.focus(), 100);
                } else {
                    closeSearch();
                }
            }

            function closeSearch() {
                const container = document.getElementById('search-container');
                const input = document.getElementById('search-input');

                container.classList.add('hidden');
                input.value = '';
                document.getElementById('search-results').innerHTML = '';
                document.getElementById('search-tips').style.display = 'block';
                currentHighlightIndex = -1;
                searchResults = [];
            }

            function handleSearch(query) {
                const resultsContainer = document.getElementById('search-results');
                const tipsContainer = document.getElementById('search-tips');

                if (!query.trim()) {
                    resultsContainer.innerHTML = '';
                    tipsContainer.style.display = 'block';
                    currentHighlightIndex = -1;
                    searchResults = [];
                    return;
                }

                tipsContainer.style.display = 'none';
                searchResults = [];

                // 搜索匹配项
                Object.keys(searchMappings).forEach(keyword => {
                    if (keyword.toLowerCase().includes(query.toLowerCase()) || query.toLowerCase().includes(keyword.toLowerCase())) {
                        searchResults.push(...searchMappings[keyword]);
                    }
                });

                // 也搜索具体的功能名称
                Object.values(searchMappings).flat().forEach(item => {
                    if (item.text.toLowerCase().includes(query.toLowerCase()) && !searchResults.find(r => r.text === item.text)) {
                        searchResults.push(item);
                    }
                });

                // 去重
                searchResults = searchResults.filter((item, index, self) =>
                    index === self.findIndex(t => t.text === item.text)
                );

                if (searchResults.length === 0) {
                    resultsContainer.innerHTML = `
            <div class="p-4 text-center text-gray-500 text-sm">
                <svg class="w-8 h-8 mx-auto mb-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47.94-6.01 2.47l-.491-.492a.5.5 0 01.707-.708z"></path>
                </svg>
                未找到相关功能模块
            </div>
        `;
                    return;
                }

                // 显示搜索结果
                resultsContainer.innerHTML = searchResults.map((item, index) => `
        <div class="search-result-item ${index === currentHighlightIndex ? 'highlighted' : ''}" 
             onclick="navigateToResult('${item.tab}', '${item.menu}', '${item.submenu}')">
            <div class="font-medium text-sm text-gray-800">${highlightMatch(item.text, query)}</div>
            <div class="search-breadcrumb">${item.breadcrumb}</div>
        </div>
    `).join('');

                currentHighlightIndex = -1;
            }

            function highlightMatch(text, query) {
                const regex = new RegExp(`(${query})`, 'gi');
                return text.replace(regex, '<span class="search-match">$1</span>');
            }

            function handleKeydown(event) {
                const results = document.querySelectorAll('.search-result-item');

                if (event.key === 'ArrowDown') {
                    event.preventDefault();
                    currentHighlightIndex = Math.min(currentHighlightIndex + 1, results.length - 1);
                    updateHighlight(results);
                } else if (event.key === 'ArrowUp') {
                    event.preventDefault();
                    currentHighlightIndex = Math.max(currentHighlightIndex - 1, -1);
                    updateHighlight(results);
                } else if (event.key === 'Enter') {
                    event.preventDefault();
                    if (currentHighlightIndex >= 0 && searchResults[currentHighlightIndex]) {
                        const item = searchResults[currentHighlightIndex];
                        navigateToResult(item.tab, item.menu, item.submenu);
                    }
                } else if (event.key === 'Escape') {
                    closeSearch();
                }
            }

            function updateHighlight(results) {
                results.forEach((result, index) => {
                    if (index === currentHighlightIndex) {
                        result.classList.add('highlighted');
                        result.scrollIntoView({ block: 'nearest' });
                    } else {
                        result.classList.remove('highlighted');
                    }
                });
            }

            // 搜索导航功能增强
            function navigateToResult(tab, menu, submenu) {
                // 关闭搜索
                if (window.closeSearch) {
                    window.closeSearch();
                }

                // 切换顶部导航
                document.querySelectorAll('.top-nav-item').forEach(navItem => {
                    navItem.classList.remove('active');
                });
                const targetTab = document.querySelector(`[data-target="${tab}"]`);
                if (targetTab) {
                    targetTab.classList.add('active');
                }

                // 切换菜单容器
                document.querySelectorAll('.menu-container').forEach(container => {
                    container.classList.remove('active');
                });
                const targetMenu = document.getElementById(`${tab}-menu`);
                if (targetMenu) {
                    targetMenu.classList.add('active');
                }

                // 激活菜单项
                setTimeout(() => {
                    const menuItem = document.querySelector(`[data-menu="${menu}"]`);
                    if (menuItem) {
                        // 清除所有活跃状态
                        document.querySelectorAll('.menu-item').forEach(item => {
                            item.classList.remove('active');
                        });

                        // 激活目标菜单项
                        menuItem.classList.add('active');

                        // 展开子菜单
                        const submenuElement = document.getElementById(`${menu}-submenu`);
                        if (submenuElement) {
                            submenuElement.classList.add('open');

                            // 激活子菜单项
                            if (submenu) {
                                setTimeout(() => {
                                    const submenuItem = document.querySelector(`[data-id="${submenu}"]`);
                                    if (submenuItem) {
                                        document.querySelectorAll('.menu-subitem').forEach(item => {
                                            item.classList.remove('active-subitem');
                                        });
                                        submenuItem.classList.add('active-subitem');

                                        // 触发点击事件以加载内容
                                        submenuItem.click();
                                    }
                                }, 150);
                            }
                        }
                    }
                }, 100);
            }

            // 将函数暴露给全局作用域
            window.navigateToResult = navigateToResult;

            // 点击外部关闭搜索
            document.addEventListener('click', function (event) {
                const searchContainer = document.getElementById('search-container');
                const searchTrigger = document.getElementById('search-trigger');

                if (!searchContainer.contains(event.target) && !searchTrigger.contains(event.target)) {
                    closeSearch();
                }
            });
        </script>
    </div>
</body>

</html>