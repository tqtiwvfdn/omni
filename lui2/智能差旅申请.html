<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能差旅申请单</title>
    <script src="/console/style/tailwindcss.3.0.23.js"></script>
    <style>
        body {
            background: url("/lui/img/chat-bg.669e9f9e.png");
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, Helvetica, Segoe UI, Arial, Roboto, PingFang SC, miui, Hiragino Sans GB, Microsoft Yahei, sans-serif;
            background-size: contain;
            background-repeat: no-repeat;
        }
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .step-card {
            transition: all 0.3s ease;
        }
        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        .gradient-text {
            background: linear-gradient(135deg, #2196f3, #21cbf3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="p-4">
    <div class="max-w-md mx-auto">
        <!-- 头部 -->
        <div class="card rounded-2xl p-4 mb-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center mr-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-gray-800">智能差旅申请</h1>
                        <p class="text-sm text-gray-500">王小明 · 市场部</p>
                    </div>
                </div>
                <div class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg">草稿</div>
            </div>
        </div>

        <!-- 申请基本信息 -->
        <div class="card rounded-2xl p-4 mb-3 step-card">
            <!-- 步骤1: 申请模板 -->
            <div class="mb-4">
                <div class="flex items-center mb-3">
                    <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mr-2">
                        <span class="text-white text-xs font-bold">1</span>
                    </div>
                    <h2 class="font-semibold text-gray-800">选择申请模板</h2>
                </div>
                <div class="grid grid-cols-2 gap-2 mb-2">
                    <button class="bg-blue-50 border-2 border-blue-200 rounded-lg p-3 text-center transition-all hover:bg-blue-100 template-btn" data-type="business">
                        <div class="text-blue-500 mb-1">🏢</div>
                        <div class="text-xs text-gray-700">普通出差</div>
                    </button>
                    <button class="bg-gray-50 border border-gray-200 rounded-lg p-3 text-center transition-all hover:bg-gray-100 template-btn" data-type="urgent">
                        <div class="text-gray-500 mb-1">⚡</div>
                        <div class="text-xs text-gray-700">紧急出差</div>
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-2">
                    <button class="bg-gray-50 border border-gray-200 rounded-lg p-3 text-center transition-all hover:bg-gray-100 template-btn" data-type="international">
                        <div class="text-gray-500 mb-1">✈️</div>
                        <div class="text-xs text-gray-700">国际差旅</div>
                    </button>
                    <button class="bg-gray-50 border border-gray-200 rounded-lg p-3 text-center transition-all hover:bg-gray-100 template-btn" data-type="personal">
                        <div class="text-gray-500 mb-1">🏠</div>
                        <div class="text-xs text-gray-700">个人/家庭</div>
                    </button>
                </div>
                <div class="mt-2 text-xs text-gray-500 bg-yellow-50 px-2 py-1 rounded">
                    💡 个人/家庭行程仅使用企业渠道订票，无需审批
                </div>
            </div>

            <!-- 步骤2: 基本信息 -->
            <div class="mb-4 business-form">
                <div class="flex items-center mb-3">
                    <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mr-2">
                        <span class="text-white text-xs font-bold">2</span>
                    </div>
                    <h2 class="font-semibold text-gray-800">基本信息</h2>
                    <div class="ml-auto text-xs text-green-600 bg-green-100 px-2 py-1 rounded">自动关联</div>
                </div>
                <div class="space-y-3">
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">职级</label>
                            <div class="bg-gray-50 px-3 py-2 rounded-lg text-sm text-gray-700">P6</div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">部门</label>
                            <div class="bg-gray-50 px-3 py-2 rounded-lg text-sm text-gray-700">市场部</div>
                        </div>
                    </div>
                    <div>
                        <label class="text-xs text-gray-600 mb-1 block">关联项目</label>
                        <select class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                            <option>Q3华南区推广项目</option>
                            <option>新产品发布活动</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">可用预算</label>
                            <div class="bg-blue-50 px-3 py-2 rounded-lg text-sm text-blue-700 font-semibold">¥8,500</div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">出差人数</label>
                            <input type="number" value="2" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 个人行程简化信息 -->
            <div class="mb-4 personal-form hidden">
                <div class="flex items-center mb-3">
                    <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-2">
                        <span class="text-white text-xs font-bold">2</span>
                    </div>
                    <h2 class="font-semibold text-gray-800">个人行程信息</h2>
                    <div class="ml-auto text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">无需审批</div>
                </div>
                <div class="space-y-3">
                    <div>
                        <label class="text-xs text-gray-600 mb-1 block">行程性质</label>
                        <select class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                            <option>个人出行</option>
                            <option>家庭旅游</option>
                            <option>探亲访友</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-xs text-gray-600 mb-1 block">出行人数</label>
                        <input type="number" value="1" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                    </div>
                </div>
            </div>

            <!-- 步骤3: 行程规划 -->
            <div class="mb-4">
                <div class="flex items-center mb-3">
                    <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mr-2">
                        <span class="text-white text-xs font-bold">3</span>
                    </div>
                    <h2 class="font-semibold text-gray-800">行程规划</h2>
                </div>
                <div class="space-y-3">
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">出发地</label>
                            <input type="text" value="北京" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                        </div>
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">目的地</label>
                            <input type="text" value="上海" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">出发日期</label>
                            <input type="date" value="2025-07-15" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                        </div>
                        <div>
                            <label class="text-xs text-gray-600 mb-1 block">返回日期</label>
                            <input type="date" value="2025-07-17" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
                        </div>
                    </div>
                    <button class="w-full bg-blue-500 text-white py-2 rounded-lg text-sm font-medium flex items-center justify-center smart-plan-btn">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        <span class="business-text">智能规划行程</span>
                        <span class="personal-text hidden">查找企业优惠</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 步骤4: 预规划结果 -->
        <div class="card rounded-2xl p-4 mb-3 step-card">
            <div class="flex items-center mb-3">
                <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-2">
                    <span class="text-white text-xs font-bold">✓</span>
                </div>
                <h2 class="font-semibold text-gray-800">预规划方案</h2>
                <div class="ml-auto text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded">可调整</div>
            </div>
            
            <!-- 行程计划 -->
            <div class="mb-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">📅 行程计划表</h3>
                <div class="bg-gray-50 rounded-lg p-3 space-y-2">
                    <div class="flex justify-between items-center text-xs">
                        <span class="text-gray-600">7/15 北京→上海</span>
                        <span class="text-blue-600">高铁 G101</span>
                    </div>
                    <div class="flex justify-between items-center text-xs">
                        <span class="text-gray-600">7/15-17 住宿</span>
                        <span class="text-blue-600">如家酒店·2晚</span>
                    </div>
                    <div class="flex justify-between items-center text-xs">
                        <span class="text-gray-600">7/17 上海→北京</span>
                        <span class="text-blue-600">高铁 G102</span>
                    </div>
                </div>
            </div>

            <!-- 预算分配 -->
            <div class="mb-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">💰 预算分配表</h3>
                <div class="space-y-2">
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-gray-600">交通费用</span>
                        <div class="flex items-center">
                            <div class="w-16 h-1 bg-blue-200 rounded mr-2">
                                <div class="w-3/4 h-1 bg-blue-500 rounded"></div>
                            </div>
                            <span class="text-xs font-medium">¥2,400</span>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-gray-600">住宿费用</span>
                        <div class="flex items-center">
                            <div class="w-16 h-1 bg-green-200 rounded mr-2">
                                <div class="w-2/3 h-1 bg-green-500 rounded"></div>
                            </div>
                            <span class="text-xs font-medium">¥1,200</span>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-gray-600">餐饮费用</span>
                        <div class="flex items-center">
                            <div class="w-16 h-1 bg-orange-200 rounded mr-2">
                                <div class="w-1/2 h-1 bg-orange-500 rounded"></div>
                            </div>
                            <span class="text-xs font-medium">¥800</span>
                        </div>
                    </div>
                    <div class="border-t pt-2 mt-2">
                        <div class="flex justify-between items-center">
                            <span class="text-sm font-medium text-gray-800">总计</span>
                            <span class="text-sm font-bold text-blue-600">¥4,400</span>
                        </div>
                        <div class="text-xs text-green-600 text-right">预算余额：¥4,100</div>
                    </div>
                </div>
            </div>

            <!-- 费用明细 -->
            <div>
                <h3 class="text-sm font-medium text-gray-700 mb-2">📊 费用预估明细</h3>
                <div class="bg-gray-50 rounded-lg p-3">
                    <div class="space-y-1 text-xs">
                        <div class="flex justify-between">
                            <span class="text-gray-600">高铁票 北京→上海 ×2</span>
                            <span>¥1,200</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">高铁票 上海→北京 ×2</span>
                            <span>¥1,200</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">如家酒店标准间 2晚</span>
                            <span>¥1,200</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">餐饮补贴 3天 ×2人</span>
                            <span>¥800</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 提交按钮 -->
        <div class="space-y-3">
            <button class="w-full bg-blue-500 text-white py-3 rounded-2xl text-sm font-medium submit-btn">
                <span class="business-text">提交申请</span>
                <span class="personal-text hidden">直接预订</span>
            </button>
            <div class="flex space-x-3 business-form">
                <button class="flex-1 bg-gray-100 text-gray-700 py-2 rounded-xl text-sm">
                    保存草稿
                </button>
                <button class="flex-1 bg-gray-100 text-gray-700 py-2 rounded-xl text-sm">
                    导出方案
                </button>
            </div>
            <div class="personal-form hidden">
                <button class="w-full bg-gray-100 text-gray-700 py-2 rounded-xl text-sm">
                    保存个人行程
                </button>
            </div>
        </div>
    </div>

    <script>
        // 简单的交互效果
        document.addEventListener('DOMContentLoaded', function() {
            // 模板选择效果
            const templateButtons = document.querySelectorAll('.template-btn');
            const businessForm = document.querySelectorAll('.business-form');
            const personalForm = document.querySelectorAll('.personal-form');
            const businessText = document.querySelectorAll('.business-text');
            const personalText = document.querySelectorAll('.personal-text');

            templateButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // 重置所有按钮样式
                    templateButtons.forEach(btn => {
                        btn.className = btn.className.replace(/bg-blue-\d+|border-blue-\d+|border-2/g, 'bg-gray-50 border border-gray-200');
                        btn.querySelector('div:first-child').className = 'text-gray-500 mb-1';
                    });
                    
                    // 设置选中样式
                    this.className = this.className.replace(/bg-gray-\d+|border-gray-\d+/g, 'bg-blue-50 border-2 border-blue-200');
                    this.querySelector('div:first-child').className = 'text-blue-500 mb-1';

                    // 根据模板类型显示不同的表单
                    const templateType = this.getAttribute('data-type');
                    
                    if (templateType === 'personal') {
                        // 显示个人行程表单
                        businessForm.forEach(el => el.classList.add('hidden'));
                        personalForm.forEach(el => el.classList.remove('hidden'));
                        businessText.forEach(el => el.classList.add('hidden'));
                        personalText.forEach(el => el.classList.remove('hidden'));
                    } else {
                        // 显示商务差旅表单
                        businessForm.forEach(el => el.classList.remove('hidden'));
                        personalForm.forEach(el => el.classList.add('hidden'));
                        businessText.forEach(el => el.classList.remove('hidden'));
                        personalText.forEach(el => el.classList.add('hidden'));
                    }
                });
            });

            // 智能规划按钮效果
            const planButton = document.querySelector('.smart-plan-btn');
            if (planButton) {
                planButton.addEventListener('click', function() {
                    const isPersonal = !personalText[0].classList.contains('hidden');
                    
                    if (isPersonal) {
                        this.innerHTML = '<svg class="w-4 h-4 mr-1 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>搜索中...';
                        setTimeout(() => {
                            this.innerHTML = '<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>重新搜索';
                        }, 2000);
                    } else {
                        this.innerHTML = '<svg class="w-4 h-4 mr-1 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>规划中...';
                        setTimeout(() => {
                            this.innerHTML = '<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>重新规划';
                        }, 2000);
                    }
                });
            }
        });
    </script>
</body>
</html>